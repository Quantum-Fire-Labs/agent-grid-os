<% content_for :head do %>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@5.3.0/css/xterm.min.css">
<% end %>

<div class="dashboard" data-controller="terminal" data-terminal-agent-id-value="<%= @agent.id %>" data-terminal-command-value="<%= params[:command] %>">
  <div class="dashboard-header">
    <div class="breadcrumb">
      <%= link_to "Agents", agents_path %> <span class="breadcrumb-sep">/</span> <%= link_to @agent.name, agent_path(@agent) %> <span class="breadcrumb-sep">/</span> <span>Terminal</span>
    </div>
  </div>

  <div class="terminal-container" data-terminal-target="container"></div>
</div>

<style>
  .terminal-container {
    height: 70vh;
    border: 1px solid var(--color-border, #333);
    border-radius: var(--radius, 6px);
    overflow: hidden;
  }

  .terminal-container .xterm {
    padding: 0.5rem;
  }
</style>
